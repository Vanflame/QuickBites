;/*FB_PKG_DELIM*/

__d("LSReceiveMarkThreadReadNative",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[],d=[];return b.sequence([function(e){return b.sequence([function(d){return b.db.table(9).fetch([[[a[0]]]]).next().then(function(a,b){var d=a.done;a=a.value;return d?c[0]=void 0:(b=a.item,c[0]=b.lastReadWatermarkTimestampMs)})},function(d){return b.i64.neq(c[0],void 0)&&b.i64.neq(a[1],void 0)&&b.i64.gt(a[1],c[0])?c[2]=a[1]:c[2]=void 0,b.i64.neq(c[2],void 0)?b.sequence([function(d){return b.forEach(b.db.table(9).fetch([[[a[0]]]]),function(a){var b=a.update;a.item;return b({lastReadWatermarkTimestampMs:c[2]})})},function(a){return c[3]=c[2]}]):b.resolve(c[3]=void 0)},function(a){return d[0]=c[3]}])},function(a){return b.resolve(d)}])}a.__sproc_name__="LSE2EEMessagingMetadataMailboxReceiveMarkThreadReadNativeStoredProcedure";a.__tables__=["threads"];e.exports=a}),null);
__d("MWInitLSStaticDependencies",["LSCompleteThreadCutover","LSDeleteThenInsertAvatarFeatureConfig","LSDeleteThenInsertCmChannelList","LSDeleteThenInsertCommunityUnjoinedThread","LSDeleteThenInsertRankingRequest","LSDeleteThenInsertRankingScore","LSDynamicDependencies","LSIssueNextSync","LSMailboxTaskCompletionApiOnTaskCompletion","LSReceiveMarkThreadReadNative","LSStoreProjectConfiguration","LSSyncBumpThreadDataToClient","LSUpdateCommunityThreadStaleState","LSUpdateOrInsertOhaiGatewayKeyConfigs","LSUpdateParentFolderReadWatermark","LSUpdateThreadNullState","LSVerifyE2EEMetadataThreadExistsV2","LSVerifyThreadRowExists","LSWriteCTAIdToThreadsTable"],(function(a,b,c,d,e,f,g){"use strict";d("LSDynamicDependencies").addToCachedModules({completeThreadCutover:c("LSCompleteThreadCutover"),deleteThenInsertAvatarFeatureConfig:c("LSDeleteThenInsertAvatarFeatureConfig"),deleteThenInsertCmChannelList:c("LSDeleteThenInsertCmChannelList"),deleteThenInsertCommunityUnjoinedThread:c("LSDeleteThenInsertCommunityUnjoinedThread"),deleteThenInsertRankingRequest:c("LSDeleteThenInsertRankingRequest"),deleteThenInsertRankingScore:c("LSDeleteThenInsertRankingScore"),issueNextSync:c("LSIssueNextSync"),mailboxTaskCompletionApiOnTaskCompletion:c("LSMailboxTaskCompletionApiOnTaskCompletion"),receiveMarkThreadReadNative:c("LSReceiveMarkThreadReadNative"),storeProjectConfiguration:c("LSStoreProjectConfiguration"),syncBumpThreadDataToClient:c("LSSyncBumpThreadDataToClient"),updateCommunityThreadStaleState:c("LSUpdateCommunityThreadStaleState"),updateOrInsertOhaiGatewayKeyConfigs:c("LSUpdateOrInsertOhaiGatewayKeyConfigs"),updateParentFolderReadWatermark:c("LSUpdateParentFolderReadWatermark"),updateThreadNullState:c("LSUpdateThreadNullState"),verifyE2EEMetadataThreadExistsV2:c("LSVerifyE2EEMetadataThreadExistsV2"),verifyThreadRowExists:c("LSVerifyThreadRowExists"),writeCTAIdToThreadsTable:c("LSWriteCTAIdToThreadsTable")})}),34);